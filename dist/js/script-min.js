$(document).ready(function(){var t=$("body"),e={isModalShow:!1,scrollPos:0},i=window.innerWidth-$(document).width(),s=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),e.scrollPos=$(window).scrollTop(),$("body").css({overflowY:"hidden",top:-e.scrollPos,width:"100%",paddingRight:i})),e.isModalShow=!0;var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")},o=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:e.scrollPos,paddingRight:0}),$(window).scrollTop(e.scrollPos),$(".modal").addClass("modal-hide-animation"),setTimeout(function(){$(".modal").removeClass("modal-hide-animation"),$(".modal").removeClass("modal__show")},500),e.isModalShow=!1},a=function(t){s(),$(".modal").each(function(){if($(this).data("modal")===t){if($(this).addClass("modal__show"),$(window).width()>1280){var e=$(this);setTimeout(function(){e.find(".input:first").focus(),console.log(e.find(".input:first").val())},200)}if($(this).find(".js-modal-countdoun-wrap")){var i=$(this);l(i)}}else $(this).removeClass("modal__show")});var e=$(window).height();$(".modal-filter").height(e)};$(".modal-get").click(function(){var t=$(this).data("modal");a(t)}),$(".modal-close, .modal-hide").click(function(){o(),n?clearInterval(n):""}),$("body").on("mousedown",function(t){"modal-wrap"===t.target.className&&o()}),$(document).on("keyup",function(t){"Escape"===t.key?o():""});var n;$(".js-modal-countdown-type").click(function(){var t=$(this).closest(".modal-content");l(t)});var l=function(t){var e=$(".js-modal-countdown-wrap").data("time");e=e||60,t.find(".js-modal-countdown-type").addClass("type--disable"),t.find(".js-modal-countdown-val").html(e),n?clearInterval(n):"",n=setInterval(function(){e>0?(--e,t.find(".js-modal-countdown-val").html(e)):(t.find(".js-modal-countdown-type").removeClass("type--disable"),clearInterval(n))},1e3)},c=20,d=$(".header"),r=d.height();$(window).scroll(function(){var t=$(this).scrollTop();t>=c?($("body").css("paddingTop",r),d.addClass("shrink")):($("body").css("paddingTop",0),d.removeClass("shrink"))}),$(".js-toggle").click(function(){$(this).toggleClass("active")}),$("body").on("click",".js-tick",function(){var t=$(this).closest(".js-tick-cont");t.find(".js-tick").removeClass("active"),$(this).addClass("active")}),$(".js-commutator-el").click(function(){var t,e=$(this).data("item"),i=$(this).data("group")||!1,s=$(this).data("each")||!1;$(this).toggleClass("active"),t=$(".js-commutator-cont").data("group")?$(".js-commutator-cont[data-group="+i):$(".js-commutator-cont"),t.each(function(){$(this).data("item")===e?$(this).toggleClass("active"):!!s&&$(this).removeClass("active")})}),$(".js-slide").click(function(){var t=$(this).data("item"),e=$(this).data("each")||!1,i=$(this).closest(".js-slide-parrent");$(this).toggleClass("active");var s;s=$(".js-slide[data-item="+t+"]"),e&&(s.not(this).removeClass("active"),s.not(this).closest(".js-slide-parrent").find(".js-slide-cont").removeClass("active")),i.find(".js-slide-cont[data-item="+t+"]").toggleClass("active")}),$("body").on("click",".js-switch",function(t){if("style-input"!=t.target.className){var e=$(this).data("item"),i=$(this).closest(".js-switch-wrap").length;if(i<1){var s=$(this).data("group"),o=$(".js-switch[data-group="+s+"]"),a=o.size();o.each(function(){$(this).removeClass("active")}),$(".js-switch-cont").each(function(){$(this).closest(".js-switch-wrap").length;$(this).data("group")===s&&void 0!=$(this).data("group")?(console.log("inner"),$(this).data("item")===e?1===a?$(this).toggleClass("hidden"):$(this).removeClass("hidden"):$(this).addClass("hidden")):$(this).data("item")===e&&$(this).toggleClass("hidden")})}else{var n=$(this).closest(".js-switch-wrap");n.find(".js-switch").removeClass("active"),n.find(".js-switch-cont").each(function(){$(this).data("item")===e?$(this).removeClass("hidden"):$(this).addClass("hidden")})}$(this).addClass("active")}}),$(".incr-btn__el").click(function(){$(this).closest(".incr-btn").addClass("incr-btn--active")}),$(".incr-btn .incr__minus").click(function(){1===h.value?$(this).closest(".incr-btn").removeClass("incr-btn--active"):""});var h={};$(".incr__nav").click(function(){h.parent=$(this).closest(".incr"),h.value=parseInt($(this).closest(".incr").find(".incr__val span").html()),h.state=$(this).closest(".incr").find(".incr__val span")}),$(".incr__minus").click(function(){--h.value,h.parent.hasClass("incr--one")&&(h.value=h.value<1?1:h.value),h.value=h.value<1?0:h.value,h.state.html(h.value)}),$(".incr__plus").click(function(){++h.value,h.value=h.value>100?100:h.value,h.state.html(h.value)}),$(".incr--single .incr__nav").click(function(){var t=$(this).closest(".incr--single");t.hasClass("incr--one")?h.value>1?t.addClass("incr--single-active"):t.removeClass("incr--single-active"):h.value?t.addClass("incr--single-active"):t.removeClass("incr--single-active")}),$(".dropdown").click(function(){$(this).attr("tabindex",1).focus(),$(this).toggleClass("active"),$(this).find(".dropdown-menu").slideToggle(200)}),$(".dropdown").focusout(function(){$(this).removeClass("active"),$(this).find(".dropdown-menu").slideUp(200)}),$(".dropdown .dropdown-menu__el").click(function(){var t=$(this).parents(".dropdown");t.find(".dropdown-current__val").html($(this).html()),t.find("input").attr("value",$(this).data("value"))}),$(".main-slider").slick({slidesToShow:3,speed:500,dots:!0,arrows:!1,centerMode:!0,centerPadding:0,variableWidth:!0,focusOnSelect:!0,accessibility:!1,responsive:[{breakpoint:1560,settings:{centerPadding:"5%"}},{breakpoint:1025,settings:{centerPadding:"8%",centerMode:!0,variableWidth:!1,slidesToShow:1}},{breakpoint:640,settings:{centerMode:!1,slidesToShow:1,variableWidth:!1}}],customPaging:function(t,e){return'<span class="dot"></span>'}}),$(".year-line").slick({slidesToShow:8,speed:500,dots:!1,arrows:!1,rows:0,infinite:!1,responsive:[{breakpoint:1100,settings:{slidesToShow:6}},{breakpoint:780,settings:{slidesToShow:8}},{breakpoint:640,settings:{slidesToShow:3}}]}),$(".slider-control--right").click(function(){$(this).closest(".slider-wrap").find(".slider-item").slick("slickNext")}),$(".slider-control--left").click(function(){$(this).closest(".slider-wrap").find(".slider-item").slick("slickPrev")}),$(".size__el").click(function(){$(this).closest(".size").find(".size__el").removeClass("size__el--active"),$(this).addClass("size__el--active")});var v=function(){$(window).width()>1023&&$(".stick").stick_in_parent({offset_top:100}),$(window).width()<769&&$(".stick").trigger("sticky_kit:detach")};$(window).resize(function(){v()}),v(),$(".order-form__tab-el").click(function(){var t=$(this).data("tab");"self"==t?$(".order-form__border-el").addClass("order-form__border-el--right"):$(".order-form__border-el").removeClass("order-form__border-el--right"),$(".order-form__tab-el").removeClass("order-form__tab-el--active"),$(this).addClass("order-form__tab-el--active"),$(".order-form__tab-container").each(function(){$(this).data("tab")==t?$(this).addClass("order-form__tab-container-active"):$(this).removeClass("order-form__tab-container-active")})}),$(".range").ionRangeSlider({}),$(".history-card__wrap").click(function(){var t=$(this).closest(".history-card"),e=t.find(".history-info");t.toggleClass("active"),e.hasClass("active")?(e.slideUp(),setTimeout(function(){e.removeClass("active")},400)):e.slideToggle(600)});var u=navigator.platform.toUpperCase().indexOf("MAC")>=0;!u&&$(document).width()>640&&$(".scroll").niceScroll({autohidemode:!1,cursorcolor:"#dcdcdc",scrollspeed:160,mousescrollstep:10}),$(".star--edit .star-el").hover(function(){$(this).parent().hasClass("star--fix")||($(".star .star-el").removeClass("star-el--active"),$(this).addClass("star-el--active"),$(this).prevAll(".star-el").addClass("star-el--active"))}),$(".star--edit .star-el").click(function(){$(this).parent().toggleClass("star--fix"),$(this).addClass("star-el--active"),$(this).prevAll(".star-el").addClass("star-el--active")}),$(".head-toggle").click(function(t){t.stopPropagation(),$(this).toggleClass("head-toggle--open"),$(".slide-menu").toggleClass("slide-menu--open"),$("body").toggleClass("body-fix")}),$(".slide-menu").on("click",function(t){t.stopPropagation()}),$(document).on("click",function(){$(".head-wrap").removeClass("head--up"),$(".head-toggle").removeClass("head-toggle--open"),$(".slide-menu").removeClass("slide-menu--open"),0==e.isModalShow&&$("body").removeClass("body-fix")});var m=864e7,f=localStorage.getItem("localStorageInitTime");null===f?localStorage.setItem("localStorageInitTime",+new Date):+new Date-f>m&&(localStorage.setItem("localStorageInitTime",+new Date),localStorage.setItem("bubble","1")),"0"!=localStorage.getItem("bubble")&&setTimeout(function(){$(".cookie").addClass("cookie--active")},3e3),$(".cookie .icon-close").click(function(){$(this).closest(".cookie").removeClass("cookie--active"),localStorage.setItem("bubble","0")}),$(".upload-btn").change(function(){if(this.files&&this.files[0]){$(this).closest(".upload-wrap").find(".upload-list").append('<div class="upload-list__el" onclick="this.parentNode.removeChild(this);"><svg class="icon"><use xlink:href="#close"></use></svg><span></span></div>');var t=$(".upload-list .upload-list__el:last").find("span");t.text(this.files[0].name)}console.log(this.files[0].name)}),$(".upload-img__el").click(function(){$(this).remove()});var g=0;$(".js-ingr-wrap").each(function(){g+=$(this).data("min")}),0===g&&$(".item-total").removeClass("item-total--disable"),$(".js-ingr-wrap .incr__nav").click(function(){var t=0;$(".js-ingr-wrap").each(function(){var e=0,i=$(this).data("min"),s=$(this).data("max");$(this).find(".incr__val").each(function(){e+=1*$(this).text()}),e>=s&&0!=e?$(this).find(".js-ingr-row").each(function(){1*$(this).find(".incr__val").text()===0?$(this).addClass("ingr-row--disable"):$(this).addClass("ingr-row--unPlus")}):($(this).find(".js-ingr-row").removeClass("ingr-row--disable"),$(this).find(".js-ingr-row").removeClass("ingr-row--unPlus")),e<=s&&e>=i||--t}),0===t?$(".item-total").removeClass("item-total--disable"):$(".item-total").addClass("item-total--disable")});var p=function(){$(".ingr-row").removeClass("ingr-row--disable ingr-row--unPlus"),$(".item-total").removeClass("item-total--disable"),$(".ingr-row .incr__val span").text(0),$(".ingr-row .incr").removeClass("incr--single-active"),$(".item-total").addClass("item-total--disable")};$(".js-tag").click(function(){$(this).closest(".js-tag-cont").find(".js-tag").not(this).removeClass("active"),$(this).toggleClass("active")}),$(".tag-el").click(function(){var t=[],e=$(this).closest(".product-wrap"),i=e.find(".filter-false");e.find(".tag-el.active").each(function(){t.push($(this).data("condition").toString())});var s=t.sort().join(" "),o=[],a=20;e.find(".product-el").animate({opacity:0},{duration:100,complete:function(){}}),setTimeout(function(){e.find(".product-el").addClass("fly"),e.find(".product-el").each(function(t){var e=$(this);o=e.data("condition").toString().split(" ").sort().join(" "),o.indexOf(s)!=-1&&($(this).removeClass("fly"),a+=80,e.delay(a).animate({opacity:1},{duration:200}))}),e.find(".product-el:not(.product-hidden)").length<1?i.removeClass("product-hidden"):i.addClass("product-hidden")},0)}),$(".location-el__toggle").click(function(){var t=$(this);t.closest(".location-el").find(".location-el__cont").toggleClass("location-el__cont--show"),t.closest(".location-el").find(".location-el__toggle").toggleClass("location-el__toggle--active")}),$(".location-toggle__el").click(function(){var t=$(this).index();$(".location-toggle__el").removeClass("location-toggle__el--active"),$(this).addClass("location-toggle__el--active"),$(".location-wrap").each(function(){$(this).index()===t?$(this).removeClass("location-wrap--hidden"):$(this).addClass("location-wrap--hidden")})}),$(document).mouseup(function(t){var e=$(".cart-wrap");e.is(t.target)||0!==e.has(t.target).length||e.removeClass("active")}),$(".js-cart").click(function(){$(this).closest(".js-cart-wrap").toggleClass("active")});var w=$(document).width()<769?80:110;if($("a[rel='m_PageScroll2id']").mPageScroll2id({offset:w,highlightClass:"active",onComplete:function(){$(".dropdown").removeClass("active"),$(".slide-block").removeClass("slide-block--open"),$(".head-toggle").removeClass("slide-block-toggle--open")}}),$(window).width()<769){var C=$(".footer-info-wrap").offset().top,_=$(window).height()/2;$(document).on("scroll",function(){$(document).scrollTop()+_>C?$(".js-mobile-total").hide():$(".js-mobile-total").show()})}var k=!0;$(".input-mask--phone").mask("+7(000)000-00-00",{onKeyPress:function(t,e,i,s){return"+7(8"==t&&k?($(".input-mask--phone").val("+7("),k=!1):void(i.val().length<4&&(k=!0))}});var b=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",b+"px"),t.on("click",".js-accordion-head",function(t){var e=$(this).closest(".js-accordion-el").index();$(this).closest(".js-accordion").find(".js-accordion-el").each(function(){$(this).index()!=e?($(this).find(".js-accordion-head").removeClass("active"),$(this).find(".js-accordion-content").slideUp("active")):($(this).find(".js-accordion-content").slideToggle("active"),$(this).find(".js-accordion-head").toggleClass("active"))})}),$("body").on("click",".js-tab",function(){var t=$(this).index();console.log(t);var e=$(this).closest(".js-tab-wrap");e.find(".js-tab-cont").removeClass("active"),e.find(".js-tab-cont").eq(t).addClass("active")});var j=function(t){$(".js-basket-animate").each(function(){var e=1*$(this).text();$(this).text(t),$(this).prop("Counter",e).animate({Counter:$(this).text()},{duration:800,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})})};window.resetItemMethods=p,window.condition={},window.condition.animateValBasket=j});